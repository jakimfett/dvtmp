.TH DVTMP 1 dvtmp\-VERSION
.nh
.SH NAME
dvtmp \- dynamic virtual terminal manager which is configurable
.SH SYNOPSIS
.B dvtmp
.RB [ \-v ]
.RB [ \-M ]
.RB [ \-m
.IR modifier ]
.RB [ \-d
.IR delay ]
.RB [ \-h
.IR lines ]
.RB [ \-t
.IR title ]
.RB [ \-g
.IR Choose algorithm for setting the title. FIX DESCRIPTION ]
.RB [ \-s
.IR status-fifo ]
.RB [ \-c
.IR cmd-fifo ]
.RI [ command \ ... "" ]
.SH DESCRIPTION
dvtmp is a dynamic tiling window manager which is configurable for the console.
As a console window manager it tries to make it easy to work with multiple
console based applications. It is configurable by an ini file
~/.dvtmp/config.
.SH OPTIONS
.TP
.B \-v
Print version information to standard output and exit.
.TP
.B \-M
Toggle default mouse grabbing upon startup. Use this to allow normal mouse operation
under X.
.TP
.BI \-m \ modifier
Set command modifier at runtime. This can also be set in the ini file in the
main section using the mod key. The ^ character indicates a control key. The
default modifier is ^g.
.TP
.BI \-d \ delay
Set the delay ncurses waits before deciding if a character that might be
part of an escape sequence is actually part of an escape sequence.
It also can be changed with the ESCDELAY environment variable or delay in main section of the
ini file.
.TP
.BI \-h \ lines
Set the scrollback history buffer size at runtime. The default is 500.
This can also be set by the history key in the main section of the ini file.
.TP
.BI \-t \ title
Set a static terminal
.I title
and don't change it to the one of the currently focused window.
It also can be set with title in the main section of the ini file.
.TP
.BI \-s \ status-fifo
Open or create the named pipe
.I status-fifo
read its content and display it in the statusbar. See the
.I dvtmp-status
script for a usage example.
.TP
.BI \-c \ cmd-fifo
Open or create the named pipe
.I cmd-fifo
and look for commands to execute which were defined in
.IR config.h, the defaults in the man page, or the key values in the ini file.
.TP
.IR command \ ...
Execute
.IR command (s),
each in a separate window.
.SH USAGE
.SS Keyboard commands
.TP
.B Mod
Each keybinding begins with Mod which defaults to
.BR ^g ,
but can be changed in
.I config.h
or with the
.B \-m
command line option or 
with mod in the main section of the ini file.
.TP
.B Mod\-c
Create a new shell window. Change with DVTMP_CREATE environment
variable or
with create in the keys section of the ini file.
.TP
.B Mod\-C
Create a new shell window using the current working directory of the
focused window. Change with DVTMP_CREATE_CWD environment variable or
with create_cwd in the keys section of the ini file.
.TP
.B Mod\-x\-x
Close focused window. Change with the DVTMP_KILL_CLIENT
environment variable or
with kill_client in the keys section of the ini file.
.TP
.B Mod\-l
Increases the master area width about 5% (all except grid and 
fullscreen layout). Change with the DVTMP_MASTER_DECR environment
variable or
with incmaster in the keys section of the ini file.
.TP
.B Mod\-h
Decreases the master area width about 5% (all except grid and
fullscreen layout). Change with the DVTMP_MASTER_INCR environment
variable or
with decrmaster in the keys section of the ini file.
.TP
.B Mod\-i
Increase number of windows displayed in the master area. Change with
the DVTMP_INCR_WINDOWS environment variable.
with decrmaster in the keys section of the ini file.
.TP
.B Mod\-d
Decrease number of windows displayed in the master area. Change with
the DVTMP_DECR_WINDOWS environment variable.
with decrmaster in the keys section of the ini file.
.TP
.B Mod\-j
Focus next window. Change with the DVTMP_FOCUS_NEXT environment
variable or
with focusnext in the keys section of the ini file.
.TP
.B Mod\-k
Focus previous window. Change with the DVTMP_FOCUS_PREV environment
variable or
with focusprev in the keys section of the ini file.
.TP
.B Mod\-J
Focus next non minimized window. Change with the DVTMP_FOCUS_NEXT_MIN
environment variable or
with focusnextnm in the keys section of the ini file.
.TP
.B Mod\-K
Focus previous non minimized window. Change with the DVTMP_FOCUS_PREV_MINV
environment variable or
with focusprevnm in the keys section of the ini file.
.TP
.BI Mod\- n
Focus the
.IR n \-th
window.
.TP
.B Mod\-Tab
Focus previously selected window. Change with the DVTMP_FOCUS_PREV_WINDOW
environment variable or
with focuslast in the keys section of the ini file.
.TP
.B Mod\-.
Toggle minimization of current window or
with toggleminimize in the keys section of the ini file.
.TP
.B Mod\-m
Maximize current window (change to fullscreen layout). Change with the 
DVTMP_MAX_WINDOW environment variable or
with max_window in the keys section of the ini file.
.TP
.B Shift\-PageUp
.TQ
.B Mod\-PageUp
Scroll up.
.TP
.B Shift\-PageDown
.TQ
.B Mod\-PageDown
Scroll down.
.TP
.B Mod\-Space
Toggle between defined layouts (affects all windows). Change with the
DVTMP_TOGGLE_LAYOUTS environment variable or
with toggle_layouts in the keys section of the ini file.
.TP
.B Mod\-Enter
Zooms/cycles current window to/from master area. Change with the
DVTMP_ZOOM environment variable or
with zoom in the keys section of the ini file.
.TP
.B Mod\-f
Change to vertical stack tiling layout. Change with the
DVTMP_TILE_VERTICAL environment variable or
with setlayout_vertical in the keys section of the ini file.
.TP
.B Mod\-b
Change to bottom stack tiling layout. Change with the DVTMP_TILE_BOTTOM
environment variable or
with setlayout_bottom in the keys section of the ini file.
.TP
.B Mod\-g
Change to grid layout. Change with the DVTMP_TILE_GRID environment
variable or
with setlayout_grid in the keys section of the ini file.
.TP
.B Mod\-s
Show/hide the status bar. Change with the DVTMP_SHOW_HIDE_STATUS
environment variable or
with togglebar in the keys section of the ini file.
.TP
.B Mod\-S
Toggle position of the status bar between top and bottom. Change with the
DVTMP_TOGGLE_STATUS_LOC environment variable or
with togglebarpos in the keys section of the ini file.
.TP
.B Mod\-r
.TQ
.B Mod\-^L
Redraw whole screen.  Change control mod L with the DVTMP_REDRAW1
environment variable. Change the Mod with r with the DVTMP_REDRAW2
environment variable.
Or with redraw1 and redraw2 respectively in the keys section of the ini file.
.TP
.B Mod\-a
Toggle keyboard multiplexing mode, if activated keypresses are sent to all
visible windows. Change with the DVTMP_MULTIPLEX_TOGGLE environment
variable or
with toggler_multiplex in the keys section of the ini file.
.TP
.B Mod\-M
Toggle dvtmp mouse grabbing. Change with the DVTMP_TOGGLE_MOUSE
environment variable or
with togglemouse in the keys section of the ini file.
.TP
.B Mod\-e
Enter copy mode (see section below for further information). Change with
the DVTMP_COPY_MODE1 environment variable or
with copymode1 in the keys section of the ini file.
.TP
.B Mod\-/
Enter copy mode and start searching forward (assumes a vi-like editor).
Change with the DVTMP_COPY_MODE2 environment variable or
with copymode2 in the keys section of the ini file.
.TP
.B Mod\-p
Paste last copied text from copy mode at current cursor position. Change
with the DVTMP_PASTE environment variable or
with paste in the keys section of the ini file.
.TP
.B Mod\-?
Show this manual page.
.TP
.B Mod\-Mod
Send the Mod key.
.TP
.B Mod-F[1..n]
.TQ
.B Mod-v-[1..n]
View all windows with nth tag.
Change with the DVTMP_VIEW environment variable or
with view in the keys section of the ini file.
.TP
.B Mod-0
View all windows with any tag.
.TP
.B Mod-v-Tab
Toggles to the previously selected tags.
See above for changing v to another key.
.TP
.B Mod-V-[1..n]
Add/remove all windows with nth tag to/from the view.
Change with the DVTMP_TOGGLE_VIEW environment variable or
with toggleview in the keys section of the ini file.
.TP
.B Mod-t-[1..n]
Apply nth tag to focused window.
Change with the DVTMP_TAG environment variable or
with tag in the keys section of the ini file.
.TP
.B Mod-T-[1..n]
Add/remove nth tag to/from focused window.
Change with the DVTMP_TOGGLE_TAG environment variable or
with toggletag in the keys section of the ini file.
.TP
.B Mod\-q\-q
Quit dvtmp.
.SS Mouse commands
.TP
.B Copy and Paste
By default dvtmp captures mouse events to provide the actions listed below.
Unfortunately this interferes with the standard X copy and paste mechanism.
To work around this you need to hold down
.B Shift
while selecting or pasting text.
Alternatively you can disable mouse support at compile time, start dvtmp with the
.B -M
flag or toggle mouse support during runtime with
.BR Mod\-M .
Change with the DVTMP_TOGGLE_MOUSE environment variable or
with togglemouse in the keys section of the ini file.
.TP
.B Button1 click
Focus window.
.TP
.B Button1 double click
Focus window and toggle maximization.
.TP
.B Button2 click
Zoom/cycle current window to/from master area.
.TP
.B Button3 click
Toggle minimization of current window.
.SS Copy mode
Copy mode gives easy access to past output by piping it to an editor. What
ever the editor prints to stdout upon exiting will be stored in an internal
register and can be pasted into other clients (via
.B Mod\-p
) This works with vis and some other editors but not vim. 
.SH ENVIRONMENT VARIABLES not listed above
.TP
.B DVTMP
Each process spawned by dvtmp will have this variable set to the dvtmp version
it is running under.
.TP
.B DVTMP_WINDOW_ID
Each process also has access to its constant and unique window id.
.TP
.B DVTMP_CMD_FIFO
If the -c command line argument was specified upon dvtmp startup, this variable
will be set to the file name of the named pipe. Thus allowing the process
to send commands back to dvtmp.
.TP
.B DVTMP_TERM
By default dvtmp uses its own terminfo file and therefore sets
.BR TERM=dvtmp
within the client windows. This can be overridden by setting the
.BR DVTMP_TERM
environment variable to a valid terminal name before launching dvtmp.
.TP
.B DVTMP_EDITOR
When entering the copymode dvtmp pipes the whole scroll back buffer to
.BR DVTMP_EDITOR
which is launched with
.BR \-
(indicating to read from stdin) as its only argument.
If
.BR DVTMP_EDITOR
is not set
.BR EDITOR
is checked, if this is also not set the default value specified in
.BR config.h
is used instead.
.SH EXAMPLE
See the
.I dvtmp-status
script as an example of how to display text in the
status bar.
.SH CUSTOMIZATION
dvtmp is customized by creating a custom
.I config.h
and (re)compiling the source code or by setting the
above environment variables or an ini file .dvtmp.conf in the home
directory. The ini file takes precedence over the environment variables
which can be defined in both places. This was changed so that it would be more acccessible to people
who can't code or with disabilities.
This keeps it fast, secure and simple.
.SH AUTHOR
dvtmp is written by Marc André Tanner <mat at brain-dump.org>
